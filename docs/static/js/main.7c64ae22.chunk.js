(this["webpackJsonpmurdur-rpg-system"]=this["webpackJsonpmurdur-rpg-system"]||[]).push([[0],{13:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n,l,c,r,o,i,s,u,m,d,p,h,v,b,f,y,g=a(0),E=a.n(g),O=a(10),j=a.n(O),S=(a(18),function(){return E.a.createElement("div",null)}),w=a(2),x=a(5),k=a(7),L=a(6),W=a(8),N=a(3),z=a(4),M=(a(11),a(1)),D=new(n=function e(){Object(w.a)(this,e),Object(N.a)(this,"age",l,this),Object(N.a)(this,"alignment",c,this),Object(N.a)(this,"race",r,this),Object(N.a)(this,"sex",o,this),Object(N.a)(this,"level",i,this),Object(N.a)(this,"maxHits",s,this),Object(N.a)(this,"currentHits",u,this),Object(N.a)(this,"experience",m,this),Object(N.a)(this,"gold",d,this),Object(N.a)(this,"stats",p,this)},l=Object(z.a)(n.prototype,"age",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),c=Object(z.a)(n.prototype,"alignment",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Good"}}),r=Object(z.a)(n.prototype,"race",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Elf"}}),o=Object(z.a)(n.prototype,"sex",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Female"}}),i=Object(z.a)(n.prototype,"level",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=Object(z.a)(n.prototype,"maxHits",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),u=Object(z.a)(n.prototype,"currentHits",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),m=Object(z.a)(n.prototype,"experience",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=Object(z.a)(n.prototype,"gold",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=Object(z.a)(n.prototype,"stats",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{strength:10,intelligence:10,wisdom:10,constitution:10,charisma:10,dexterity:10}}}),n),T=function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(w.a)(this,e),this.levelSections=[],this.size=void 0,this.discoveredSections={},this.markSectionDiscovered=function(e){t.discoveredSections["".concat(e[0],"-").concat(e[1])]={tile:!0,modifier:!0,leftWall:!0,topWall:!0},t.discoveredSections["".concat(e[0]+1,"-").concat(e[1])]&&(t.discoveredSections["".concat(e[0]+1,"-").concat(e[1])].leftWall=!0),t.discoveredSections["".concat(e[0],"-").concat(e[1]+1)]&&(t.discoveredSections["".concat(e[0],"-").concat(e[1]+1)].topWall=!0)},this.isSectionDiscovered=function(e){return!!t.discoveredSections["".concat(e[0],"-").concat(e[1])]&&t.discoveredSections["".concat(e[0],"-").concat(e[1])].tile},this.randomlyPopulateMap=function(){for(var e=0;e<t.size;e++)for(var a=0;a<t.size;a++)t.levelSections.push({coords:[a,e],leftWall:t.getRandomWall(),topWall:t.getRandomWall(),terrain:t.getRandomTerrain()}),t.discoveredSections["".concat(a,"-").concat(e)]={tile:!1,modifier:!1,leftWall:!1,topWall:!1}},this.getRandomWall=function(){var e=Math.round(1+4*Math.random());return e>=4?"wall":1===e?"door":"none"},this.getRandomTerrain=function(){switch(Math.round(1+6*Math.random())){case 1:return"sand";case 2:return"water";default:return"none"}},this.size=a,n&&this.randomlyPopulateMap()},C={levelStore:new(h=function(){function e(){Object(w.a)(this,e),Object(N.a)(this,"level1",v,this),Object(N.a)(this,"markSectionDiscovered",b,this),this.level1=new T(30)}return Object(x.a)(e,[{key:"getSectionDiscovered",value:function(e){return this.level1.discoveredSections["".concat(e[0],"-").concat(e[1])]}},{key:"getSectionByCoords",value:function(e){return this.level1.levelSections.find((function(t){return e[0]===t.coords[0]&&e[1]===t.coords[1]}))}}]),e}(),v=Object(z.a)(h.prototype,"level1",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=Object(z.a)(h.prototype,"markSectionDiscovered",[M.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.level1.markSectionDiscovered(t)}}}),h),messageStore:new(f=function e(){var t=this;Object(w.a)(this,e),Object(N.a)(this,"messages",y,this),this.messagePanelScrollRef=E.a.createRef(),this.addMessage=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";t.messages.push({text:e,type:a}),t.scrollMessagesToBottom()},this.scrollMessagesToBottom=function(){var e=t.messagePanelScrollRef.current;e&&(e.scrollTop=e.scrollHeight)}},y=Object(z.a)(f.prototype,"messages",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{text:"Welcome to MURDUR 0.1!",type:"normal"}]}}),f),playerStore:D},R=g.createContext(C),H=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(l)))).context=void 0,a}return Object(W.a)(t,e),t}(g.Component);H.contextType=R;var B,P,A,U=a(9),Y=Object(U.a)(B=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.context.playerStore;return E.a.createElement("div",{className:"character-info-panel"},E.a.createElement("div",{className:"character-alignment"},"".concat(e.sex," ").concat(e.race," (").concat(e.alignment,") (").concat(e.level,")")),E.a.createElement("ul",{className:"character-current-info"},E.a.createElement("li",null,E.a.createElement("span",null,"Age"),E.a.createElement("span",null,e.age)),E.a.createElement("li",null,E.a.createElement("span",null,"Hits"),E.a.createElement("span",null,"".concat(e.currentHits,"/").concat(e.maxHits))),E.a.createElement("li",null,E.a.createElement("span",null,"Experience"),E.a.createElement("span",null,e.experience)),E.a.createElement("li",null,E.a.createElement("span",null,"Gold"),E.a.createElement("span",null,e.gold))),E.a.createElement("ul",{className:"character-stats"},E.a.createElement("li",null,E.a.createElement("span",null,"Strength"),E.a.createElement("span",null,e.stats.strength)),E.a.createElement("li",null,E.a.createElement("span",null,"Intelligence"),E.a.createElement("span",null,e.stats.intelligence)),E.a.createElement("li",null,E.a.createElement("span",null,"Wisdom"),E.a.createElement("span",null,e.stats.wisdom)),E.a.createElement("li",null,E.a.createElement("span",null,"Constitution"),E.a.createElement("span",null,e.stats.constitution)),E.a.createElement("li",null,E.a.createElement("span",null,"Charisma"),E.a.createElement("span",null,e.stats.charisma)),E.a.createElement("li",null,E.a.createElement("span",null,"Dexterity"),E.a.createElement("span",null,e.stats.dexterity))))}}]),t}(H))||B,G=[{name:"Stats",id:"stats"},{name:"Resist",id:"resist"},{name:"Char",id:"char"},{name:"Guild",id:"guild"}],K=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(L.a)(t).call(this,e))).changeTab=function(e){a.setState({activeTab:e})},a.state={activeTab:"stats"},a}return Object(W.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.state.activeTab;return E.a.createElement("div",{className:"character-stats"},E.a.createElement("div",{className:"character-name"},"Reggie Plop Plops"),E.a.createElement("div",{className:"top-tabs"},G.map((function(a){return E.a.createElement("div",{className:"tab ".concat(t===a.id?"active":""),onClick:function(){e.changeTab(a.id)}},a.name)}))),"stats"===t&&E.a.createElement(Y,null))}}]),t}(E.a.Component),q=Object(U.a)(P=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(L.a)(t).call(this,e))).handleKeyDown=function(e){var t=[a.state.playerLocation[0],a.state.playerLocation[1]];switch(e.keyCode){case 37:var n=a.context.levelStore.getSectionByCoords([a.state.playerLocation[0],a.state.playerLocation[1]]);n&&"wall"!==n.leftWall&&0!==a.state.playerLocation[0]&&(t=[a.state.playerLocation[0]-1,a.state.playerLocation[1]],a.context.messageStore.addMessage("You walked WEST"));break;case 38:var l=a.context.levelStore.getSectionByCoords([a.state.playerLocation[0],a.state.playerLocation[1]]);l&&"wall"!==l.topWall&&0!==a.state.playerLocation[1]&&(t=[a.state.playerLocation[0],a.state.playerLocation[1]-1],a.context.messageStore.addMessage("You walked NORTH"));break;case 39:var c=a.context.levelStore.getSectionByCoords([a.state.playerLocation[0]+1,a.state.playerLocation[1]]);c&&"wall"!==c.leftWall&&(t=[a.state.playerLocation[0]+1,a.state.playerLocation[1]],a.context.messageStore.addMessage("You walked EAST"));break;case 40:var r=a.context.levelStore.getSectionByCoords([a.state.playerLocation[0],a.state.playerLocation[1]+1]);r&&"wall"!==r.topWall&&(t=[a.state.playerLocation[0],a.state.playerLocation[1]+1],a.context.messageStore.addMessage("You walked SOUTH"))}a.context.levelStore.level1.markSectionDiscovered(t),a.setState({playerLocation:t})},a.state={playerLocation:[15,15]},a}return Object(W.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){this.context.levelStore.level1.markSectionDiscovered(this.state.playerLocation)}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.context.levelStore;return console.log(this.state.playerLocation),E.a.createElement("div",{className:"explore-map"},E.a.createElement("div",{className:"map-container",style:{width:14*t.level1.size,height:14*t.level1.size}},t.level1.levelSections.map((function(a){var n=a.coords[0]===e.state.playerLocation[0]&&a.coords[1]===e.state.playerLocation[1],l=t.getSectionDiscovered(a.coords),c="".concat(l.leftWall?"wall-left-"+a.leftWall:""," ").concat(l.topWall?"wall-top-"+a.topWall:""),r=l.tile?"map-square "+c+(n?" player-location":"")+" discovered-"+a.terrain:"map-square "+c;return E.a.createElement("div",{key:a.coords[0]+"-"+a.coords[1],className:r})}))))}}]),t}(H))||P,I=Object(U.a)(A=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.context.messageStore;return E.a.createElement("div",{className:"explore-messages",ref:e.messagePanelScrollRef},E.a.createElement("ul",null,e.messages.map((function(e){return E.a.createElement("li",null,e.text)}))))}}]),t}(H))||A,J=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(L.a)(t).call(this,e))).state={},a}return Object(W.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return E.a.createElement("div",{className:"explore-screen"},E.a.createElement("div",{className:"character-menu"},E.a.createElement(K,null),E.a.createElement("div",{className:"character-inventory"}),E.a.createElement("div",{className:"party"})),E.a.createElement("div",{className:"explore-pane"},E.a.createElement("div",{className:"expore-encounter"}),E.a.createElement(q,null),E.a.createElement(I,null)))}}]),t}(E.a.Component);a(21);var F=function(){return E.a.createElement("div",{className:"App"},E.a.createElement(S,null),E.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));j.a.render(E.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.7c64ae22.chunk.js.map